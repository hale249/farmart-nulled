(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,o(a.key),a)}}function o(e){var o=function(e,o){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,o||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==t(o)?o:o+""}var n=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initEvents()},o=[{key:"initEvents",value:function(){this.handleCommissionActions(),this.handleWithdrawalActions(),this.handlePendingAffiliateActions()}},{key:"handleCommissionActions",value:function(){$(document).on("click","#approve-commission-button, #reject-commission-button",(function(t){t.preventDefault();var e=$(this),o=e.data("url"),n=e.data("action");e.data("id"),o&&(e.addClass("button-loading").prop("disabled",!0),$.ajax({type:"POST",url:o,data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){t.error?Botble.showError(t.message):(Botble.showSuccess(t.message),$("#".concat(n,"-commission-modal")).modal("hide"),setTimeout((function(){window.location.reload()}),1e3))},error:function(t){Botble.handleError(t)},complete:function(){e.removeClass("button-loading").prop("disabled",!1)}}))}))}},{key:"handleWithdrawalActions",value:function(){$(document).on("click","#approve-withdrawal-button, #reject-withdrawal-button",(function(t){t.preventDefault();var e=$(this),o=e.data("url"),n=e.data("action");e.data("id"),o&&(e.addClass("button-loading").prop("disabled",!0),$.ajax({type:"POST",url:o,data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){t.error?Botble.showError(t.message):(Botble.showSuccess(t.message),$("#".concat(n,"-withdrawal-modal")).modal("hide"),setTimeout((function(){window.location.reload()}),1e3))},error:function(t){Botble.handleError(t)},complete:function(){e.removeClass("button-loading").prop("disabled",!1)}}))}))}},{key:"handlePendingAffiliateActions",value:function(){$(document).on("click","#approve-affiliate-button, #reject-affiliate-button",(function(t){t.preventDefault();var e=$(this),o=e.data("url"),n=e.data("action");e.data("id"),o&&(e.addClass("button-loading").prop("disabled",!0),$.ajax({type:"POST",url:o,data:{_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){t.error?Botble.showError(t.message):(Botble.showSuccess(t.message),$("#".concat(n,"-affiliate-modal")).modal("hide"),setTimeout((function(){window.location.href=e.data("redirect")||route("affiliate-pro.pending.index")}),1e3))},error:function(t){Botble.handleError(t)},complete:function(){e.removeClass("button-loading").prop("disabled",!1)}}))}))}}],o&&e(t.prototype,o),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o,n}();$(document).ready((function(){new n}))})();